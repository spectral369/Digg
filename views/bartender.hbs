<div id="bartender-page">
    <nav class="navbar bg-dark sticky-top nav-fill rounded-pill ">
        <div class="container-fluid">
            <a href="/"><svg xmlns="http://www.w3.org/2000/svg" width="2.1em" height="2.1em" fill="currentColor"
                    class="bi bi-arrow-left-circle" viewBox="0 0 16 16">
                    <path fill-rule="evenodd"
                        d="M1 8a7 7 0 1 0 14 0A7 7 0 0 0 1 8zm15 0A8 8 0 1 1 0 8a8 8 0 0 1 16 0zm-4.5-.5a.5.5 0 0 1 0 1H5.707l2.147 2.146a.5.5 0 0 1-.708.708l-3-3a.5.5 0 0 1 0-.708l3-3a.5.5 0 1 1 .708.708L5.707 7.5H11.5z" />
                </svg></a>
            <span class="navbar-text text-info fs-3">
                Digg Bartender
            </span>
            <span class="navbar-text justify-content-end text-primary ">
                TOTAL:
                <span id="total" class="navbar-text text-primary fs-4 text-decoration-underline">---</span>
                <span class="navbar-text text-primary fs-4 text-decoration-underline">RON</span>
            </span>
        </div>
    </nav>


    <div class="container" id="container">
        <!-- beverage 1
        <div class="row row-cols-3 border rounded-pill text-center d-flex justify-content-center align-items-center beverage-item">
            <div class="col-md-4 ">
                <div id="icon_and_text">
                <img src="/images/baverages/cola1.svg" />
                <span>Coca-cola &copy;</span>
                </div>
            </div>
              <div class="col-md-4 text-center d-flex justify-content-center align-items-center">
              
                <span ><h4>0.25L</h4></span>
              
            </div>
            <div class="col-md-4 ms-auto text-center d-flex justify-content-center align-items-center">
                <div class="input-group">
                    <span class="input-group-btn">
                        <button type="button" class="quantity-left-minus btn btn-danger btn-number" data-type="minus"
                            data-field="">
                            <i class="fas fa-minus"></i>
                        </button>
                    </span>
                    <input type="text" id="quantity" name="quantity" class="form-control bg-dark" readonly value="0" min="1" max="100">
                    <span class="input-group-btn">
                        <button type="button" class="quantity-right-plus btn btn-success btn-number" data-type="plus"
                            data-field="">
                            <i class="fas fa-plus"></i>
                        </button>
                    </span>
                </div>

            </div>
        </div>
        <!-- end beverage 1

        <div class="row row-cols-3 border rounded-pill text-center d-flex justify-content-center align-items-center beverage-item">
            <div class="col-md-4 ">
                   <div id="icon_and_text">
                <img src="/images/baverages/gin.png" />
                <span>Gin</span>
                </div>
            </div>
              <div class="col-md-4 text-center d-flex justify-content-center align-items-center">
              
                <span ><h4>0.25L</h4></span>
              
            </div>
            <div class="col-md-4 ms-auto text-center d-flex justify-content-center align-items-center">
                <div class="input-group">
                    <span class="input-group-btn">
                        <button type="button" class="quantity-left-minus btn btn-danger btn-number" data-type="minus"
                            data-field="">
                            <i class="fas fa-minus"></i>
                        </button>
                    </span>
                    <input type="text" id="quantity" name="quantity" class="form-control bg-dark" readonly value="0" min="1" max="100">
                    <span class="input-group-btn">
                        <button type="button" class="quantity-right-plus btn btn-success btn-number" data-type="plus"
                            data-field="">
                            <i class="fas fa-plus"></i>
                        </button>
                    </span>
                </div>

            </div>
        </div>
        <!--end beverage2

        <div class="row row-cols-3 border rounded-pill text-center d-flex justify-content-center align-items-center beverage-item">
            <div class="col-md-4 ">
                   <div id="icon_and_text">
                <img src="/images/baverages/beer1.png" />
                <span>Beer</span>
                </div>
            </div>
              <div class="col-md-4 text-center d-flex justify-content-center align-items-center">
              
                <span ><h4>0.33L</h4></span>
              
            </div>
            <div class="col-md-4 ms-auto text-center d-flex justify-content-center align-items-center">
                <div class="input-group" id="test_counter">
                    <span class="input-group-btn">
                        <button type="button" class="quantity-left-minus btn btn-danger btn-number" data-type="minus"
                            data-field="">
                            <i class="fas fa-minus"></i>
                        </button>
                    </span>
                    <input type="text" id="quantity" name="quantity" class="form-control bg-dark" readonly value="0" min="1" max="100">
                    <span class="input-group-btn">
                        <button type="button" class="quantity-right-plus btn btn-success btn-number" data-type="plus"
                            data-field="">
                            <i class="fas fa-plus"></i>
                        </button>
                    </span>
                </div>

            </div>
        </div>

            -->


    </div>
    <div id="snackbarLogin"></div>

    <div class="position-absolute top-94 start-50 translate-middle">
        <button id="comanda" type="submit">Commanda</button>

    </div>


    <script>

        generate();

        //commanda test
        $('#comanda').click(function () {
            //  console.log("Commanda btn pressed");
            //( insert beverage { name:='cola',price:=5,quantity:='5'}),
            var beveragesBuilder = [];

            bev.forEach(function (item) {
                if (item.quantity > 0) {
                    beveragesBuilder.push('(insert beverage { name:=');
                    beveragesBuilder.push(`'${item.name}', price:=`);
                    beveragesBuilder.push(`${item.price}, masa:=`);
                    beveragesBuilder.push(`'${item.masa}', quantity:=`);
                    beveragesBuilder.push(`${item.quantity}}),`)
                }
                item.quantity = 0;
            });

            if(beveragesBuilder.length<1)
                return;

             resetquantity();

            $.ajax({
                url: '/send/insertorder',
                type: 'POST',
                data: JSON.stringify({
                    beverages: beveragesBuilder.join("")
                }),
                datatype: "json",
                contentType: 'application/json; charset=utf-8',
                success: function (data) {

                    //console.log(data);
                    $('#snackbarLogin').text(data);
                    showToastLogin();
                    //document.location.href="/bartender";
                }
            });

           
        });



        function resetquantity() {
            var elms = document.querySelectorAll("[id='quantity']");

            for (var i = 0; i < elms.length; i++)
                elms[i].value = 0;
        }





    </script>


</div>